(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/forms'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('ng-number-picker', ['exports', '@angular/core', '@angular/forms', '@angular/common'], factory) :
    (factory((global['ng-number-picker'] = {}),global.ng.core,global.ng.forms,global.ng.common));
}(this, (function (exports,core,forms,common) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var NumberPickerService = (function () {
        function NumberPickerService() {
            /**
             * Min picker value
             */
            this.min = 0;
            /**
             * Max picker value
             */
            this.max = 100;
            /**
             * Pick step value
             */
            this.step = 1;
            /**
             * Delay for start picking values
             */
            this.pickStartAfter = 500;
            /**
             * Delay betweens each pick
             */
            this.pickTimer = 100;
            /**
             * value precision
             */
            this.precision = 1;
            /**
             * Inital picker value
             */
            this.value = null;
        }
        NumberPickerService.decorators = [
            { type: core.Injectable },
        ];
        return NumberPickerService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var NumberPickerComponent$$1 = (function () {
        function NumberPickerComponent$$1(numberPickerService) {
            this.numberPickerService = numberPickerService;
            this.eventHolder = null;
            this.countInterval = null;
            this.isInputFocused = false;
            this.size = 'md';
            this.customClass = {};
            this.mouseWheel = false;
            this.arrowKeys = true;
            this.inputReadOnly = false;
            this.showUpButton = true;
            this.showDownButton = true;
            this.valueChange = new core.EventEmitter();
            this.minReached = new core.EventEmitter();
            this.maxReached = new core.EventEmitter();
            this.pickStarted = new core.EventEmitter();
            this.pickStoped = new core.EventEmitter();
            this.pickUpStarted = new core.EventEmitter();
            this.pickUpStoped = new core.EventEmitter();
            this.pickDownStarted = new core.EventEmitter();
            this.pickDownStoped = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.initPicker();
            };
        /**
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.isHorizontal = /**
         * @return {?}
         */
            function () {
                return (this.buttonsOrientation !== 'v' && this.buttonsOrientation !== 'vertical');
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onFocus = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.preventDefault();
                event.stopPropagation();
                this.isInputFocused = true;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onBlur = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.preventDefault();
                event.stopPropagation();
                this.isInputFocused = false;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onMouseWheel = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isInputFocused) {
                    event.preventDefault();
                    var /** @type {?} */ wheelUp = null;
                    var /** @type {?} */ delta = null;
                    if (event.wheelDelta) {
                        delta = event.wheelDelta / 60;
                    }
                    else if (event.detail) {
                        delta = -event.detail / 2;
                    }
                    if (delta !== null) {
                        wheelUp = delta > 0;
                    }
                    this.afterMouseWheels(wheelUp, event);
                    event.stopPropagation();
                }
            };
        /**
         * @param {?} wheelUp
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.afterMouseWheels = /**
         * @param {?} wheelUp
         * @param {?} event
         * @return {?}
         */
            function (wheelUp, event) {
                this.onPickStarted(wheelUp);
                if (wheelUp) {
                    this.onIncrease(event);
                }
                else {
                    this.onDecrease(event);
                }
                this.onPickStoped(wheelUp);
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onValueChange = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.value > this.max) {
                    this.value = this.max;
                }
                else if (this.value < this.min) {
                    this.value = this.min;
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onDecrease = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.preventDefault();
                if (this.canDecrease()) {
                    this.value = this.round((this.value > this.min) ? this.value -= this.step : this.value);
                    this.valueChange.emit(this.value);
                }
                else {
                    this.minReached.emit(true);
                }
                event.stopPropagation();
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onIncrease = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.preventDefault();
                if (this.canIncrease()) {
                    this.value = this.round((this.value < this.max) ? this.value += this.step : this.value);
                    this.valueChange.emit(this.value);
                }
                else {
                    this.maxReached.emit(true);
                }
                event.stopPropagation();
            };
        /**
         * @param {?} event
         * @param {?=} increase
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onMouseDown = /**
         * @param {?} event
         * @param {?=} increase
         * @return {?}
         */
            function (event, increase) {
                if (increase === void 0) {
                    increase = true;
                }
                this.afterMouseDown(increase, event);
            };
        /**
         * @param {?} keyCode
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.isArrowUpDown = /**
         * @param {?} keyCode
         * @return {?}
         */
            function (keyCode) {
                return keyCode === 38 || keyCode === 40;
            };
        /**
         * @param {?} keyCode
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.isArowUp = /**
         * @param {?} keyCode
         * @return {?}
         */
            function (keyCode) {
                return keyCode === 38;
            };
        /**
         * @param {?} increase
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.loopPick = /**
         * @param {?} increase
         * @param {?} event
         * @return {?}
         */
            function (increase, event) {
                var _this = this;
                this.onPickStarted(increase);
                this.eventHolder = setTimeout(function () {
                    _this.countInterval = setInterval(function () {
                        if (increase) {
                            _this.onIncrease(event);
                        }
                        else {
                            _this.onDecrease(event);
                        }
                    }, _this.pickTimer);
                }, this.pickStartAfter);
            };
        /**
         * @param {?} event
         * @param {?=} increase
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onMouseUp = /**
         * @param {?} event
         * @param {?=} increase
         * @return {?}
         */
            function (event, increase) {
                if (increase === void 0) {
                    increase = true;
                }
                this.afterMouseUp(increase, event);
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onKeyDown = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isArrowUpDown(event.keyCode)) {
                    event.preventDefault();
                    if (!this.eventHolder) {
                        this.loopPick(this.isArowUp(event.keyCode), event);
                    }
                }
                event.stopPropagation();
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onKeyUp = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isArrowUpDown(event.keyCode)) {
                    event.preventDefault();
                    this.afterPick(this.isArowUp(event.keyCode));
                }
                event.stopPropagation();
            };
        /**
         * @param {?} up
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.afterMouseDown = /**
         * @param {?} up
         * @param {?} event
         * @return {?}
         */
            function (up, event) {
                event.preventDefault();
                if (this.isLeftClick(event.which)) {
                    this.loopPick(up, event);
                }
                event.stopPropagation();
            };
        /**
         * @param {?} up
         * @param {?} event
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.afterMouseUp = /**
         * @param {?} up
         * @param {?} event
         * @return {?}
         */
            function (up, event) {
                event.preventDefault();
                this.afterPick(up);
                event.stopPropagation();
            };
        /**
         * @param {?} up
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.afterPick = /**
         * @param {?} up
         * @return {?}
         */
            function (up) {
                this.onPickStoped(up);
                this.clearTimers();
            };
        /**
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.clearTimers = /**
         * @return {?}
         */
            function () {
                clearTimeout(this.eventHolder);
                clearInterval(this.countInterval);
                this.eventHolder = null;
                this.countInterval = null;
            };
        /**
         * @param {?} up
         * @param {?} event
         * @param {?} start
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.afterArrowKeysPressed = /**
         * @param {?} up
         * @param {?} event
         * @param {?} start
         * @return {?}
         */
            function (up, event, start) {
                if (start) {
                    this.loopPick(up, event);
                }
                else {
                    this.afterPick(up);
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.parseVal = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                if (typeof value === 'number') {
                    return value;
                }
                return parseFloat(value);
            };
        /**
         * @param {?} step
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.getPrecision = /**
         * @param {?} step
         * @return {?}
         */
            function (step) {
                return /\d*$/.exec(String(step))[0].length;
            };
        /**
         * @param {?} value
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.round = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return Math.round(value * Math.pow(10, this.precision)) / Math.pow(10, this.precision);
            };
        /**
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.canIncrease = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ canIncrease = (this.value <= this.max - this.step);
                if (!canIncrease) {
                    this.value = this.max;
                }
                return canIncrease;
            };
        /**
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.canDecrease = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ canDecrease = (this.value >= this.min + this.step);
                if (!canDecrease) {
                    this.value = this.min;
                }
                return canDecrease;
            };
        /**
         * @param {?} increase
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onPickStarted = /**
         * @param {?} increase
         * @return {?}
         */
            function (increase) {
                if (increase) {
                    if (this.canIncrease()) {
                        this.pickStarted.emit(true);
                        this.pickUpStarted.emit(true);
                    }
                }
                else {
                    if (this.canDecrease()) {
                        this.pickStarted.emit(true);
                        this.pickDownStarted.emit(true);
                    }
                }
            };
        /**
         * @param {?} increase
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.onPickStoped = /**
         * @param {?} increase
         * @return {?}
         */
            function (increase) {
                if (increase) {
                    if (this.canIncrease()) {
                        this.pickUpStoped.emit(true);
                        this.pickStoped.emit(true);
                    }
                }
                else {
                    if (this.canDecrease()) {
                        this.pickDownStoped.emit(true);
                        this.pickStoped.emit(true);
                    }
                }
            };
        /**
         * @param {?} witch
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.isLeftClick = /**
         * @param {?} witch
         * @return {?}
         */
            function (witch) {
                return witch === 1;
            };
        /**
         * @return {?}
         */
        NumberPickerComponent$$1.prototype.initPicker = /**
         * @return {?}
         */
            function () {
                this.min = this.parseVal(this.min) || this.numberPickerService.min;
                this.max = this.parseVal(this.max) || this.numberPickerService.max;
                this.step = this.parseVal(this.step) || this.numberPickerService.step;
                this.value = this.parseVal(this.value) || this.numberPickerService.value;
                this.pickStartAfter = this.parseVal(this.pickStartAfter) || this.numberPickerService.pickStartAfter;
                this.pickTimer = this.parseVal(this.pickTimer) || this.numberPickerService.pickTimer;
                this.precision = this.getPrecision(this.step) || this.numberPickerService.precision;
                this.value = this.round(this.value);
                if (this.value < this.min) {
                    this.value = this.min;
                }
                else if (this.value > this.max) {
                    this.value = this.max;
                }
            };
        NumberPickerComponent$$1.decorators = [
            { type: core.Component, args: [{
                        selector: 'ng-number-picker',
                        template: "\n  <div class=\"input-group mb-3 input-{{size}} {{customClass.container}}\">\n  <!-- Horizontal decrease button orientation -->\n  <div class=\"input-group-prepend\" *ngIf=\"isHorizontal() && showDownButton\">\n    <span class=\"input-group-text decrease {{customClass.down}}\" (click)=\"onDecrease($event)\"\n    (mouseup)=\"onMouseUp($event, false)\" (mousedown)=\"onMouseDown($event, false)\">-</span>\n  </div>\n  <!-- Input prefix -->\n  <div *ngIf=\"prefix\" class=\"input-group-prepend\">\n    <span class=\"input-group-text {{customClass.prefix}}\">{{prefix}}</span>\n  </div>\n  <input type=\"number\" class=\"form-control\" name=\"input-spin-val\"\n  [(ngModel)]=\"value\"\n  [readOnly]=\"inputReadOnly\"\n  (blur)=\"onBlur($event)\"\n  (focus)=\"onFocus($event)\"\n  (mousewheel)=\"mouseWheel && onMouseWheel($event)\"\n  (keyup)=\"arrowKeys && onKeyUp($event)\"\n  (keydown)=\"arrowKeys && onKeyDown($event)\"\n  (keydown.arrowup)=\"arrowKeys && onIncrease($event)\"\n  (keydown.arrowdown)=\"arrowKeys && onDecrease($event)\"\n  (change)=\"onValueChange($event)\"\n  [placeholder]=\"placeholder\"\n  >\n  <!-- Input postfix -->\n  <div *ngIf=\"postfix\" class=\"input-group-prepend\">\n    <span class=\"input-group-text {{customClass.postfix}}\" [style.borderLeft]=\"'0'\">{{postfix}}</span>\n  </div>\n  <!-- Horizontal increase button orientation -->\n  <div class=\"input-group-prepend\" *ngIf=\"isHorizontal() && showUpButton\">\n    <span class=\"input-group-text increase {{customClass.up}}\" [style.borderLeft]=\"(!postfix) ? '0' : ''\" (click)=\"onIncrease($event)\"\n    (mouseup)=\"onMouseUp($event)\" (mousedown)=\"onMouseDown($event)\">+</span>\n  </div>\n  <!-- Vertical buttons orientation -->\n  <div class=\"input-group-append\" *ngIf=\"!isHorizontal()\">\n    <span class=\"input-group-text vertical p-0\">\n      <span *ngIf=\"showUpButton\" class=\"{{customClass.up}}\" (click)=\"onIncrease($event)\" (mouseup)=\"onMouseUp($event)\"\n      (mousedown)=\"onMouseDown($event)\">+</span>\n      <span *ngIf=\"showDownButton\" class=\"{{customClass.down}}\" (click)=\"onDecrease($event)\" (mouseup)=\"onMouseUp($event, false)\"\n      (mousedown)=\"onMouseDown($event, false)\">-</span>\n    </span>\n  </div>\n</div>\n  ",
                        styles: ["input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.decrease:hover,.increase:hover{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;background-color:#d8d8d8}.increase{border-top-right-radius:3px!important;border-bottom-right-radius:3px!important}.vertical{display:flex;justify-content:center;flex-direction:column;text-align:center;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vertical span{line-height:15px}.input-md .vertical span,.input-sm .vertical span{padding:2px 10px}.input-lg .vertical span{padding:4px 10px}.input-xlg .vertical span{padding:7px 10px}.input-md,.input-medium{height:45px}.input-large,.input-lg{height:50px}.input-xlarge,.input-xlg{height:75px}.input-md input,.input-md span,.input-medium input,.input-medium span{font-size:22px}.input-large input,.input-large span,.input-lg input,.input-lg span{font-size:25px}.input-xlarge input,.input-xlarge span,.input-xlg input,.input-xlg span{font-size:38px}"]
                    },] },
        ];
        /** @nocollapse */
        NumberPickerComponent$$1.ctorParameters = function () {
            return [
                { type: NumberPickerService, },
            ];
        };
        NumberPickerComponent$$1.propDecorators = {
            "min": [{ type: core.Input },],
            "max": [{ type: core.Input },],
            "step": [{ type: core.Input },],
            "value": [{ type: core.Input },],
            "pickStartAfter": [{ type: core.Input },],
            "pickTimer": [{ type: core.Input },],
            "prefix": [{ type: core.Input },],
            "postfix": [{ type: core.Input },],
            "placeholder": [{ type: core.Input },],
            "buttonsOrientation": [{ type: core.Input },],
            "size": [{ type: core.Input },],
            "customClass": [{ type: core.Input },],
            "mouseWheel": [{ type: core.Input },],
            "arrowKeys": [{ type: core.Input },],
            "inputReadOnly": [{ type: core.Input },],
            "showUpButton": [{ type: core.Input },],
            "showDownButton": [{ type: core.Input },],
            "valueChange": [{ type: core.Output },],
            "minReached": [{ type: core.Output },],
            "maxReached": [{ type: core.Output },],
            "pickStarted": [{ type: core.Output },],
            "pickStoped": [{ type: core.Output },],
            "pickUpStarted": [{ type: core.Output },],
            "pickUpStoped": [{ type: core.Output },],
            "pickDownStarted": [{ type: core.Output },],
            "pickDownStoped": [{ type: core.Output },],
        };
        return NumberPickerComponent$$1;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var NumberPickerModule = (function () {
        function NumberPickerModule() {
        }
        NumberPickerModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            forms.FormsModule
                        ],
                        providers: [NumberPickerService],
                        declarations: [NumberPickerComponent$$1],
                        exports: [NumberPickerComponent$$1]
                    },] },
        ];
        return NumberPickerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.NumberPickerService = NumberPickerService;
    exports.NumberPickerComponent = NumberPickerComponent$$1;
    exports.NumberPickerModule = NumberPickerModule;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctbnVtYmVyLXBpY2tlci51bWQuanMubWFwIiwic291cmNlcyI6WyJuZzovL25nLW51bWJlci1waWNrZXIvbGliL251bWJlci1waWNrZXIuc2VydmljZS50cyIsIm5nOi8vbmctbnVtYmVyLXBpY2tlci9saWIvbnVtYmVyLXBpY2tlci5jb21wb25lbnQudHMiLCJuZzovL25nLW51bWJlci1waWNrZXIvbGliL251bWJlci1waWNrZXIubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGJ1dHRvbnNPcmllbnRhdGlvblR5cGUsIHNpemVUeXBlIH0gZnJvbSAnLi9udW1iZXItcGlja2VyLmNvbmZpZyc7XG5pbXBvcnQgeyBDdXN0b21DbGFzc2VzIH0gZnJvbSAnLi9udW1iZXItcGlja2VyLmNvbmZpZyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBOdW1iZXJQaWNrZXJTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIE1pbiBwaWNrZXIgdmFsdWVcbiAgICovXG4gIG1pbiA9IDA7XG4gIC8qKlxuICAgKiBNYXggcGlja2VyIHZhbHVlXG4gICAqL1xuICBtYXggPSAxMDA7XG4gIC8qKlxuICAgKiBQaWNrIHN0ZXAgdmFsdWVcbiAgICovXG4gIHN0ZXAgPSAxO1xuICAvKipcbiAgICogRGVsYXkgZm9yIHN0YXJ0IHBpY2tpbmcgdmFsdWVzXG4gICAqL1xuICBwaWNrU3RhcnRBZnRlciA9IDUwMDtcbiAgLyoqXG4gICAqIERlbGF5IGJldHdlZW5zIGVhY2ggcGlja1xuICAgKi9cbiAgcGlja1RpbWVyID0gMTAwO1xuICAvKipcbiAgICogdmFsdWUgcHJlY2lzaW9uXG4gICAqL1xuICBwcmVjaXNpb24gPSAxO1xuICAvKipcbiAgICogSW5pdGFsIHBpY2tlciB2YWx1ZVxuICAgKi9cbiAgdmFsdWUgPSBudWxsO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgSG9zdExpc3RlbmVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBidXR0b25zT3JpZW50YXRpb25UeXBlLCBzaXplVHlwZSwgQ3VzdG9tQ2xhc3NlcyB9IGZyb20gJy4vbnVtYmVyLXBpY2tlci5jb25maWcnO1xuaW1wb3J0IHsgTnVtYmVyUGlja2VyU2VydmljZSB9IGZyb20gJy4uL3B1YmxpY19hcGknO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZy1udW1iZXItcGlja2VyJyxcbiAgdGVtcGxhdGU6IGBcbiAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwIG1iLTMgaW5wdXQte3tzaXplfX0ge3tjdXN0b21DbGFzcy5jb250YWluZXJ9fVwiPlxuICA8IS0tIEhvcml6b250YWwgZGVjcmVhc2UgYnV0dG9uIG9yaWVudGF0aW9uIC0tPlxuICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiICpuZ0lmPVwiaXNIb3Jpem9udGFsKCkgJiYgc2hvd0Rvd25CdXR0b25cIj5cbiAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHQgZGVjcmVhc2Uge3tjdXN0b21DbGFzcy5kb3dufX1cIiAoY2xpY2spPVwib25EZWNyZWFzZSgkZXZlbnQpXCJcbiAgICAobW91c2V1cCk9XCJvbk1vdXNlVXAoJGV2ZW50LCBmYWxzZSlcIiAobW91c2Vkb3duKT1cIm9uTW91c2VEb3duKCRldmVudCwgZmFsc2UpXCI+LTwvc3Bhbj5cbiAgPC9kaXY+XG4gIDwhLS0gSW5wdXQgcHJlZml4IC0tPlxuICA8ZGl2ICpuZ0lmPVwicHJlZml4XCIgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XG4gICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0IHt7Y3VzdG9tQ2xhc3MucHJlZml4fX1cIj57e3ByZWZpeH19PC9zcGFuPlxuICA8L2Rpdj5cbiAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJpbnB1dC1zcGluLXZhbFwiXG4gIFsobmdNb2RlbCldPVwidmFsdWVcIlxuICBbcmVhZE9ubHldPVwiaW5wdXRSZWFkT25seVwiXG4gIChibHVyKT1cIm9uQmx1cigkZXZlbnQpXCJcbiAgKGZvY3VzKT1cIm9uRm9jdXMoJGV2ZW50KVwiXG4gIChtb3VzZXdoZWVsKT1cIm1vdXNlV2hlZWwgJiYgb25Nb3VzZVdoZWVsKCRldmVudClcIlxuICAoa2V5dXApPVwiYXJyb3dLZXlzICYmIG9uS2V5VXAoJGV2ZW50KVwiXG4gIChrZXlkb3duKT1cImFycm93S2V5cyAmJiBvbktleURvd24oJGV2ZW50KVwiXG4gIChrZXlkb3duLmFycm93dXApPVwiYXJyb3dLZXlzICYmIG9uSW5jcmVhc2UoJGV2ZW50KVwiXG4gIChrZXlkb3duLmFycm93ZG93bik9XCJhcnJvd0tleXMgJiYgb25EZWNyZWFzZSgkZXZlbnQpXCJcbiAgKGNoYW5nZSk9XCJvblZhbHVlQ2hhbmdlKCRldmVudClcIlxuICBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIlxuICA+XG4gIDwhLS0gSW5wdXQgcG9zdGZpeCAtLT5cbiAgPGRpdiAqbmdJZj1cInBvc3RmaXhcIiBjbGFzcz1cImlucHV0LWdyb3VwLXByZXBlbmRcIj5cbiAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHQge3tjdXN0b21DbGFzcy5wb3N0Zml4fX1cIiBbc3R5bGUuYm9yZGVyTGVmdF09XCInMCdcIj57e3Bvc3RmaXh9fTwvc3Bhbj5cbiAgPC9kaXY+XG4gIDwhLS0gSG9yaXpvbnRhbCBpbmNyZWFzZSBidXR0b24gb3JpZW50YXRpb24gLS0+XG4gIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCIgKm5nSWY9XCJpc0hvcml6b250YWwoKSAmJiBzaG93VXBCdXR0b25cIj5cbiAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHQgaW5jcmVhc2Uge3tjdXN0b21DbGFzcy51cH19XCIgW3N0eWxlLmJvcmRlckxlZnRdPVwiKCFwb3N0Zml4KSA/ICcwJyA6ICcnXCIgKGNsaWNrKT1cIm9uSW5jcmVhc2UoJGV2ZW50KVwiXG4gICAgKG1vdXNldXApPVwib25Nb3VzZVVwKCRldmVudClcIiAobW91c2Vkb3duKT1cIm9uTW91c2VEb3duKCRldmVudClcIj4rPC9zcGFuPlxuICA8L2Rpdj5cbiAgPCEtLSBWZXJ0aWNhbCBidXR0b25zIG9yaWVudGF0aW9uIC0tPlxuICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYXBwZW5kXCIgKm5nSWY9XCIhaXNIb3Jpem9udGFsKClcIj5cbiAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHQgdmVydGljYWwgcC0wXCI+XG4gICAgICA8c3BhbiAqbmdJZj1cInNob3dVcEJ1dHRvblwiIGNsYXNzPVwie3tjdXN0b21DbGFzcy51cH19XCIgKGNsaWNrKT1cIm9uSW5jcmVhc2UoJGV2ZW50KVwiIChtb3VzZXVwKT1cIm9uTW91c2VVcCgkZXZlbnQpXCJcbiAgICAgIChtb3VzZWRvd24pPVwib25Nb3VzZURvd24oJGV2ZW50KVwiPis8L3NwYW4+XG4gICAgICA8c3BhbiAqbmdJZj1cInNob3dEb3duQnV0dG9uXCIgY2xhc3M9XCJ7e2N1c3RvbUNsYXNzLmRvd259fVwiIChjbGljayk9XCJvbkRlY3JlYXNlKCRldmVudClcIiAobW91c2V1cCk9XCJvbk1vdXNlVXAoJGV2ZW50LCBmYWxzZSlcIlxuICAgICAgKG1vdXNlZG93bik9XCJvbk1vdXNlRG93bigkZXZlbnQsIGZhbHNlKVwiPi08L3NwYW4+XG4gICAgPC9zcGFuPlxuICA8L2Rpdj5cbjwvZGl2PlxuICBgLFxuICBzdHlsZXM6IFtgaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLGlucHV0W3R5cGU9bnVtYmVyXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTttYXJnaW46MH0uZGVjcmVhc2U6aG92ZXIsLmluY3JlYXNlOmhvdmVyey13ZWJraXQtdG91Y2gtY2FsbG91dDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiNkOGQ4ZDh9LmluY3JlYXNle2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweCFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6M3B4IWltcG9ydGFudH0udmVydGljYWx7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7ZmxleC1kaXJlY3Rpb246Y29sdW1uO3RleHQtYWxpZ246Y2VudGVyOy13ZWJraXQtdG91Y2gtY2FsbG91dDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtjdXJzb3I6cG9pbnRlcn0udmVydGljYWwgc3BhbntsaW5lLWhlaWdodDoxNXB4fS5pbnB1dC1tZCAudmVydGljYWwgc3BhbiwuaW5wdXQtc20gLnZlcnRpY2FsIHNwYW57cGFkZGluZzoycHggMTBweH0uaW5wdXQtbGcgLnZlcnRpY2FsIHNwYW57cGFkZGluZzo0cHggMTBweH0uaW5wdXQteGxnIC52ZXJ0aWNhbCBzcGFue3BhZGRpbmc6N3B4IDEwcHh9LmlucHV0LW1kLC5pbnB1dC1tZWRpdW17aGVpZ2h0OjQ1cHh9LmlucHV0LWxhcmdlLC5pbnB1dC1sZ3toZWlnaHQ6NTBweH0uaW5wdXQteGxhcmdlLC5pbnB1dC14bGd7aGVpZ2h0Ojc1cHh9LmlucHV0LW1kIGlucHV0LC5pbnB1dC1tZCBzcGFuLC5pbnB1dC1tZWRpdW0gaW5wdXQsLmlucHV0LW1lZGl1bSBzcGFue2ZvbnQtc2l6ZToyMnB4fS5pbnB1dC1sYXJnZSBpbnB1dCwuaW5wdXQtbGFyZ2Ugc3BhbiwuaW5wdXQtbGcgaW5wdXQsLmlucHV0LWxnIHNwYW57Zm9udC1zaXplOjI1cHh9LmlucHV0LXhsYXJnZSBpbnB1dCwuaW5wdXQteGxhcmdlIHNwYW4sLmlucHV0LXhsZyBpbnB1dCwuaW5wdXQteGxnIHNwYW57Zm9udC1zaXplOjM4cHh9YF1cbn0pXG5leHBvcnQgY2xhc3MgTnVtYmVyUGlja2VyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgcHJpdmF0ZSBwcmVjaXNpb246IG51bWJlcjtcbiAgcHJpdmF0ZSBldmVudEhvbGRlciA9IG51bGw7XG4gIHByaXZhdGUgY291bnRJbnRlcnZhbCA9IG51bGw7XG4gIHByaXZhdGUgaXNJbnB1dEZvY3VzZWQgPSBmYWxzZTtcblxuICBASW5wdXQoKSBtaW46IG51bWJlcjtcbiAgQElucHV0KCkgbWF4OiBudW1iZXI7XG4gIEBJbnB1dCgpIHN0ZXA6IG51bWJlcjtcbiAgQElucHV0KCkgdmFsdWU6IG51bWJlcjtcbiAgQElucHV0KCkgcGlja1N0YXJ0QWZ0ZXI6IG51bWJlcjtcbiAgQElucHV0KCkgcGlja1RpbWVyOiBudW1iZXI7XG4gIEBJbnB1dCgpIHByZWZpeDogc3RyaW5nO1xuICBASW5wdXQoKSBwb3N0Zml4OiBzdHJpbmc7XG4gIEBJbnB1dCgpIHBsYWNlaG9sZGVyOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGJ1dHRvbnNPcmllbnRhdGlvbjogYnV0dG9uc09yaWVudGF0aW9uVHlwZTtcbiAgQElucHV0KCkgc2l6ZTogc2l6ZVR5cGUgPSAnbWQnO1xuICBASW5wdXQoKSBjdXN0b21DbGFzczogQ3VzdG9tQ2xhc3NlcyA9IHt9O1xuICBASW5wdXQoKSBtb3VzZVdoZWVsID0gZmFsc2U7XG4gIEBJbnB1dCgpIGFycm93S2V5cyA9IHRydWU7XG4gIEBJbnB1dCgpIGlucHV0UmVhZE9ubHkgPSBmYWxzZTtcbiAgQElucHV0KCkgc2hvd1VwQnV0dG9uID0gdHJ1ZTtcbiAgQElucHV0KCkgc2hvd0Rvd25CdXR0b24gPSB0cnVlO1xuICBAT3V0cHV0KCkgdmFsdWVDaGFuZ2U6IEV2ZW50RW1pdHRlcjxudW1iZXI+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgbWluUmVhY2hlZDogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgbWF4UmVhY2hlZDogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgcGlja1N0YXJ0ZWQ6IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIHBpY2tTdG9wZWQ6IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIHBpY2tVcFN0YXJ0ZWQ6IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIHBpY2tVcFN0b3BlZDogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgcGlja0Rvd25TdGFydGVkOiBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBwaWNrRG93blN0b3BlZDogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbnVtYmVyUGlja2VyU2VydmljZTogTnVtYmVyUGlja2VyU2VydmljZSkgeyB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5pbml0UGlja2VyKCk7XG4gIH1cblxuICBpc0hvcml6b250YWwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICh0aGlzLmJ1dHRvbnNPcmllbnRhdGlvbiAhPT0gJ3YnICYmIHRoaXMuYnV0dG9uc09yaWVudGF0aW9uICE9PSAndmVydGljYWwnKTtcbiAgfVxuXG4gIG9uRm9jdXMoZXZlbnQ6IEZvY3VzRXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuaXNJbnB1dEZvY3VzZWQgPSB0cnVlO1xuICB9XG5cbiAgb25CbHVyKGV2ZW50OiBFdmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5pc0lucHV0Rm9jdXNlZCA9IGZhbHNlO1xuICB9XG5cbiAgb25Nb3VzZVdoZWVsKGV2ZW50OiBNb3VzZVdoZWVsRXZlbnQpIHtcbiAgICBpZiAodGhpcy5pc0lucHV0Rm9jdXNlZCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCB3aGVlbFVwID0gbnVsbDtcbiAgICAgIGxldCBkZWx0YSA9IG51bGw7XG5cbiAgICAgIGlmIChldmVudC53aGVlbERlbHRhKSB7XG4gICAgICAgIGRlbHRhID0gZXZlbnQud2hlZWxEZWx0YSAvIDYwO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5kZXRhaWwpIHtcbiAgICAgICAgZGVsdGEgPSAtZXZlbnQuZGV0YWlsIC8gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlbHRhICE9PSBudWxsKSB7XG4gICAgICAgIHdoZWVsVXAgPSBkZWx0YSA+IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWZ0ZXJNb3VzZVdoZWVscyh3aGVlbFVwLCBldmVudCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFmdGVyTW91c2VXaGVlbHMod2hlZWxVcDogYW55LCBldmVudDogV2hlZWxFdmVudCkge1xuICAgIHRoaXMub25QaWNrU3RhcnRlZCh3aGVlbFVwKTtcbiAgICBpZiAod2hlZWxVcCkge1xuICAgICAgdGhpcy5vbkluY3JlYXNlKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbkRlY3JlYXNlKGV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5vblBpY2tTdG9wZWQod2hlZWxVcCk7XG4gIH1cblxuICBvblZhbHVlQ2hhbmdlKGV2ZW50OiBFdmVudCkge1xuICAgIGlmICh0aGlzLnZhbHVlID4gdGhpcy5tYXgpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLm1heDtcbiAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPCB0aGlzLm1pbikge1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMubWluO1xuICAgIH1cbiAgfVxuXG4gIG9uRGVjcmVhc2UoZXZlbnQ6IE1vdXNlRXZlbnQgfCBNb3VzZVdoZWVsRXZlbnQgfCBLZXlib2FyZEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5jYW5EZWNyZWFzZSgpKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5yb3VuZCgodGhpcy52YWx1ZSA+IHRoaXMubWluKSA/IHRoaXMudmFsdWUgLT0gdGhpcy5zdGVwIDogdGhpcy52YWx1ZSk7XG4gICAgICB0aGlzLnZhbHVlQ2hhbmdlLmVtaXQodGhpcy52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWluUmVhY2hlZC5lbWl0KHRydWUpO1xuICAgIH1cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIG9uSW5jcmVhc2UoZXZlbnQ6IE1vdXNlRXZlbnQgfCBNb3VzZVdoZWVsRXZlbnQgfCBLZXlib2FyZEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5jYW5JbmNyZWFzZSgpKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5yb3VuZCgodGhpcy52YWx1ZSA8IHRoaXMubWF4KSA/IHRoaXMudmFsdWUgKz0gdGhpcy5zdGVwIDogdGhpcy52YWx1ZSk7XG4gICAgICB0aGlzLnZhbHVlQ2hhbmdlLmVtaXQodGhpcy52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWF4UmVhY2hlZC5lbWl0KHRydWUpO1xuICAgIH1cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50LCBpbmNyZWFzZTogYm9vbGVhbiA9IHRydWUpIHtcbiAgICB0aGlzLmFmdGVyTW91c2VEb3duKGluY3JlYXNlLCBldmVudCk7XG4gIH1cblxuICBwcml2YXRlIGlzQXJyb3dVcERvd24oa2V5Q29kZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGtleUNvZGUgPT09IDM4IHx8IGtleUNvZGUgPT09IDQwO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0Fyb3dVcChrZXlDb2RlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4ga2V5Q29kZSA9PT0gMzg7XG4gIH1cblxuICBwcml2YXRlIGxvb3BQaWNrKGluY3JlYXNlOiBib29sZWFuLCBldmVudDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpIHtcbiAgICB0aGlzLm9uUGlja1N0YXJ0ZWQoaW5jcmVhc2UpO1xuICAgIHRoaXMuZXZlbnRIb2xkZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY291bnRJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKGluY3JlYXNlKSB7XG4gICAgICAgICAgdGhpcy5vbkluY3JlYXNlKGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9uRGVjcmVhc2UoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLnBpY2tUaW1lcik7XG4gICAgfSwgdGhpcy5waWNrU3RhcnRBZnRlcik7XG4gIH1cblxuICBvbk1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQsIGluY3JlYXNlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgIHRoaXMuYWZ0ZXJNb3VzZVVwKGluY3JlYXNlLCBldmVudCk7XG4gIH1cblxuICBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAodGhpcy5pc0Fycm93VXBEb3duKGV2ZW50LmtleUNvZGUpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCF0aGlzLmV2ZW50SG9sZGVyKSB7XG4gICAgICAgIHRoaXMubG9vcFBpY2sodGhpcy5pc0Fyb3dVcChldmVudC5rZXlDb2RlKSwgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIG9uS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAodGhpcy5pc0Fycm93VXBEb3duKGV2ZW50LmtleUNvZGUpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5hZnRlclBpY2sodGhpcy5pc0Fyb3dVcChldmVudC5rZXlDb2RlKSk7XG4gICAgfVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZnRlck1vdXNlRG93bih1cDogYm9vbGVhbiwgZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLmlzTGVmdENsaWNrKGV2ZW50LndoaWNoKSkge1xuICAgICAgdGhpcy5sb29wUGljayh1cCwgZXZlbnQpO1xuICAgIH1cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIHByaXZhdGUgYWZ0ZXJNb3VzZVVwKHVwOiBib29sZWFuLCBldmVudDogTW91c2VFdmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5hZnRlclBpY2sodXApO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZnRlclBpY2sodXA6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9uUGlja1N0b3BlZCh1cCk7XG4gICAgdGhpcy5jbGVhclRpbWVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhclRpbWVycygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5ldmVudEhvbGRlcik7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50SW50ZXJ2YWwpO1xuICAgIHRoaXMuZXZlbnRIb2xkZXIgPSBudWxsO1xuICAgIHRoaXMuY291bnRJbnRlcnZhbCA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGFmdGVyQXJyb3dLZXlzUHJlc3NlZCh1cDogYm9vbGVhbiwgZXZlbnQ6IEtleWJvYXJkRXZlbnQsIHN0YXJ0OiBib29sZWFuKSB7XG4gICAgaWYgKHN0YXJ0KSB7XG4gICAgICB0aGlzLmxvb3BQaWNrKHVwLCBldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWZ0ZXJQaWNrKHVwKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlVmFsKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UHJlY2lzaW9uKHN0ZXA6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIC9cXGQqJC8uZXhlYyhTdHJpbmcoc3RlcCkpWzBdLmxlbmd0aDtcbiAgfVxuXG4gIHByaXZhdGUgcm91bmQodmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBNYXRoLnBvdygxMCwgdGhpcy5wcmVjaXNpb24pKSAvIE1hdGgucG93KDEwLCB0aGlzLnByZWNpc2lvbik7XG4gIH1cblxuICBwcml2YXRlIGNhbkluY3JlYXNlKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhbkluY3JlYXNlID0gKHRoaXMudmFsdWUgPD0gdGhpcy5tYXggLSB0aGlzLnN0ZXApO1xuICAgIGlmICghY2FuSW5jcmVhc2UpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLm1heDtcbiAgICB9XG4gICAgcmV0dXJuIGNhbkluY3JlYXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBjYW5EZWNyZWFzZSgpOiBib29sZWFuIHtcbiAgICBjb25zdCBjYW5EZWNyZWFzZSA9ICh0aGlzLnZhbHVlID49IHRoaXMubWluICsgdGhpcy5zdGVwKTtcbiAgICBpZiAoIWNhbkRlY3JlYXNlKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5taW47XG4gICAgfVxuICAgIHJldHVybiBjYW5EZWNyZWFzZTtcbiAgfVxuXG4gIHByaXZhdGUgb25QaWNrU3RhcnRlZChpbmNyZWFzZTogYm9vbGVhbikge1xuICAgIGlmIChpbmNyZWFzZSkge1xuICAgICAgaWYgKHRoaXMuY2FuSW5jcmVhc2UoKSkge1xuICAgICAgICB0aGlzLnBpY2tTdGFydGVkLmVtaXQodHJ1ZSk7XG4gICAgICAgIHRoaXMucGlja1VwU3RhcnRlZC5lbWl0KHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jYW5EZWNyZWFzZSgpKSB7XG4gICAgICAgIHRoaXMucGlja1N0YXJ0ZWQuZW1pdCh0cnVlKTtcbiAgICAgICAgdGhpcy5waWNrRG93blN0YXJ0ZWQuZW1pdCh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uUGlja1N0b3BlZChpbmNyZWFzZTogYm9vbGVhbikge1xuICAgIGlmIChpbmNyZWFzZSkge1xuICAgICAgaWYgKHRoaXMuY2FuSW5jcmVhc2UoKSkge1xuICAgICAgICB0aGlzLnBpY2tVcFN0b3BlZC5lbWl0KHRydWUpO1xuICAgICAgICB0aGlzLnBpY2tTdG9wZWQuZW1pdCh0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuY2FuRGVjcmVhc2UoKSkge1xuICAgICAgICB0aGlzLnBpY2tEb3duU3RvcGVkLmVtaXQodHJ1ZSk7XG4gICAgICAgIHRoaXMucGlja1N0b3BlZC5lbWl0KHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaXNMZWZ0Q2xpY2sod2l0Y2g6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB3aXRjaCA9PT0gMTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdFBpY2tlcigpOiB2b2lkIHtcbiAgICB0aGlzLm1pbiA9IHRoaXMucGFyc2VWYWwodGhpcy5taW4pIHx8IHRoaXMubnVtYmVyUGlja2VyU2VydmljZS5taW47XG4gICAgdGhpcy5tYXggPSB0aGlzLnBhcnNlVmFsKHRoaXMubWF4KSB8fCB0aGlzLm51bWJlclBpY2tlclNlcnZpY2UubWF4O1xuICAgIHRoaXMuc3RlcCA9IHRoaXMucGFyc2VWYWwodGhpcy5zdGVwKSB8fCB0aGlzLm51bWJlclBpY2tlclNlcnZpY2Uuc3RlcDtcbiAgICB0aGlzLnZhbHVlID0gdGhpcy5wYXJzZVZhbCh0aGlzLnZhbHVlKSB8fCB0aGlzLm51bWJlclBpY2tlclNlcnZpY2UudmFsdWU7XG4gICAgdGhpcy5waWNrU3RhcnRBZnRlciA9IHRoaXMucGFyc2VWYWwodGhpcy5waWNrU3RhcnRBZnRlcikgfHwgdGhpcy5udW1iZXJQaWNrZXJTZXJ2aWNlLnBpY2tTdGFydEFmdGVyO1xuICAgIHRoaXMucGlja1RpbWVyID0gdGhpcy5wYXJzZVZhbCh0aGlzLnBpY2tUaW1lcikgfHwgdGhpcy5udW1iZXJQaWNrZXJTZXJ2aWNlLnBpY2tUaW1lcjtcbiAgICB0aGlzLnByZWNpc2lvbiA9IHRoaXMuZ2V0UHJlY2lzaW9uKHRoaXMuc3RlcCkgfHwgdGhpcy5udW1iZXJQaWNrZXJTZXJ2aWNlLnByZWNpc2lvbjtcbiAgICB0aGlzLnZhbHVlID0gdGhpcy5yb3VuZCh0aGlzLnZhbHVlKTtcblxuICAgIGlmICh0aGlzLnZhbHVlIDwgdGhpcy5taW4pIHtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLm1pbjtcbiAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPiB0aGlzLm1heCkge1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMubWF4O1xuICAgIH1cbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBOdW1iZXJQaWNrZXJDb21wb25lbnQgfSBmcm9tICcuL251bWJlci1waWNrZXIuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOdW1iZXJQaWNrZXJTZXJ2aWNlIH0gZnJvbSAnLi9udW1iZXItcGlja2VyLnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIEZvcm1zTW9kdWxlXG4gIF0sXG4gIHByb3ZpZGVyczogW051bWJlclBpY2tlclNlcnZpY2VdLFxuICBkZWNsYXJhdGlvbnM6IFtOdW1iZXJQaWNrZXJDb21wb25lbnRdLFxuICBleHBvcnRzOiBbTnVtYmVyUGlja2VyQ29tcG9uZW50XVxufSlcbmV4cG9ydCBjbGFzcyBOdW1iZXJQaWNrZXJNb2R1bGUgeyB9XG4iXSwibmFtZXMiOlsiSW5qZWN0YWJsZSIsIkV2ZW50RW1pdHRlciIsIk51bWJlclBpY2tlckNvbXBvbmVudCIsIkNvbXBvbmVudCIsIklucHV0IiwiT3V0cHV0IiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiLCJGb3Jtc01vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozt1QkFTUSxDQUFDOzs7O3VCQUlELEdBQUc7Ozs7d0JBSUYsQ0FBQzs7OztrQ0FJUyxHQUFHOzs7OzZCQUlSLEdBQUc7Ozs7NkJBSUgsQ0FBQzs7Ozt5QkFJTCxJQUFJOzs7b0JBN0JiQSxlQUFVOztrQ0FKWDs7Ozs7OztBQ0FBO1FBcUZFLGtDQUFvQixtQkFBd0M7WUFBeEMsd0JBQW1CLEdBQW5CLG1CQUFtQixDQUFxQjsrQkEvQnRDLElBQUk7aUNBQ0YsSUFBSTtrQ0FDSCxLQUFLO3dCQVlKLElBQUk7K0JBQ1EsRUFBRTs4QkFDbEIsS0FBSzs2QkFDTixJQUFJO2lDQUNBLEtBQUs7Z0NBQ04sSUFBSTtr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